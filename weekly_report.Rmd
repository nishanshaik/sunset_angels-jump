---
title: "Effective Reproductive Numbers (Update 3)"
output:
  html_document:
    toc: true
    toc_float: true
---

<style>
body {
text-align: justify}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r preliminaries, include= FALSE}
# Load packages =====================
library(knitr)
library(tidyverse)
library(kableExtra)
library(DT)

# Load datasets =====================
districts <- read_csv("Rt_Districts.csv")
states <- read_csv("Rt_States.csv")
nation <- read_csv("Rt_Nation.csv")

# Preparing district dataset ================
districts <- districts %>% 
  select(-week_17, -week_18) %>% 
  mutate(Remarks = case_when(week_20 < week_19 ~ "Improved",
                             week_20 == week_19 ~ "No Change",
                             week_20 > week_19 ~ "Worsened"),
         Spread = case_when(week_20 > 1 ~ "> 1",
                            week_20 == 1 ~ "1",
                            week_20 < 1 ~ "< 1"))

districts$State[districts$State == "Dadra and Nagar Haveli and Daman and Diu"] <- "D&NH & D&D"

districts_overview <- addmargins(table(States = districts$State, districts$Remarks))
districts_overview2 <- addmargins(table(States = districts$State, districts$Spread))
districts_overview3 <- addmargins(table(districts$Remarks, districts$Spread))

districts <- districts %>% 
  mutate(Spread = case_when(week_20 > 1 ~ "Increasing",
                            week_20 == 1 ~ "Endemic",
                            week_20 < 1 ~ "Getting contained")) %>% 
  unite("Status", c(Remarks, Spread), sep = " & ", remove = TRUE)%>% 
  rename(`May 2 - May 8` = week_19,
         `May 9 - May 15`= week_20)


# Preparing states dataset ==================
states <- states %>% 
  mutate(Remarks = case_when(week_20 < week_19 ~ "Improved",
                             week_20 == week_19 ~ "No Change",
                             week_20 > week_19 ~ "Worsened"),
         Spread = case_when(week_20 > 1 ~ "> 1",
                            week_20 == 1 ~ "1",
                            week_20 < 1 ~ "< 1"))

states_overview <- addmargins(table(states$Remarks, states$Spread))

states$State[states$State == "Dadra and Nagar Haveli and Daman and Diu"] <- "D&NH & D&D"

states <- states %>%
  select(-week_17, -week_18) %>% 
  mutate(Spread = case_when(week_20 > 1 ~ "Increasing",
                            week_20 == 1 ~ "Endemic",
                            week_20 < 1 ~ "Getting contained")) %>% 
  unite("Status", c(Remarks, Spread), sep = " & ", remove = TRUE)%>% 
  rename(`May 2 - May 8` = week_19,
         `May 9 - May 15`= week_20)

# Preparing national dataset ==================
nation <- nation %>% 
  select(-week_17, -week_18) %>% 
  mutate(Remarks = case_when(week_20 < week_19 ~ "Improved",
                             week_20 == week_19 ~ "No Change",
                             week_20 > week_19 ~ "Worsened"))%>% 
  rename(`May 2 - May 8` = week_19,
         `May 9 - May 15`= week_20)
```

\

# Introduction
Effective reproductive number (Rt) is the average number of secondary infections per infectious case in the population. The outbreak will spread rapidly if Rt is greater than 1, while the outbreak will get contained when Rt falls below one.

The instantaneous rate of spread of infection as measure by Rt can be influenced by the biological characteristics of the virus and other social, behavioural and medical factors. An effective vaccine can reduce the number of susceptible individuals in an area bringing down the Rt. Lockdowns, curfews, masking, and other physical distancing measures can also control the Rt by reducing the contacts between individuals that lead to secondary infections.

\

# Methodology
Daily incidence data of COVID-19 outbreak in India from https://covid19india.org was used to derive the Rt from 2 May 2021 till 15 May 2021 using time-dependent method. Data from 634 districts from 36 states in India was used to assess the Rt at three levels - national, state and district. The daily Rt was smoothed over 7-day intervals to account for the 'weekend effect' in testing and reporting of incident cases. 

The effective reproduction numbers thus smoothed were compared to each other and the magnitude of Rt from 9 May to 15 May have been interpreted in the tables below. 

A weekly change matrix was derived to better understand the change in Rt numbers in the two weeks. Those districts and states whose Rt values increased are classified as 'worsened', 'improved' is assigned if the Rt decreased, and 'no change' if no change was observed. Based on the absolute value of smoothed Rt in the previous week, the observed pattern of spread is classified as 'increasing' when Rt is above 1, and 'getting contained' if Rt is less than 1. By some chance the Rt is exactly 1, the outbreak spreads linearly and is labelled as 'endemic'.

\

# National Level
Effective reproductive number for India was 0.93 from 2 May to 8 May (week 1). This improved to 0.84 from 9 May to 15 May (week 2). The Rt before rounding off has fallen below 1 - the infection is gradually getting contained.

```{r, echo = FALSE}
datatable(nation, caption = "Effective reproductive numbers at national level")
```


\

# State Level
Data from 36 states was included in the analysis. Rt was found to have improved in 29 (81%) states. Six (17%) of these states continue to have Rt above 1. Worsening in Rt values was observed in 7 (19%) states, out of which 6 states have Rt greater than 1.

Overall, Rt in week two was below 1 in 24 (66.7%) states while 12 (33.3%) states have Rt above 1. Details are furnished in the table below.



```{r, echo = FALSE}
colnames(states_overview) <- c("Getting contained", "Increasing exponentially", "Total")
kable(states_overview, caption = "State level change vs spread matrix", booktabs = TRUE, longtable = TRUE)
```

\

Detailed breakup of state level numbers are shown in the table below.

```{r, echo = FALSE}
datatable(states, caption = "Effective reproductive numbers at state level")
```

\


# District Level
Data from 634 districts from 36 states was used to estimate effective reproduction number for each district. The effective reproductive number improved in 420 (66%), worsened in 203 (32%) and remained unchanged in 11 (1%)  of the districts analysed.

The Rt is above 1 and spreading at increased rate in 188 (30%), below 1 and getting contained in 435 (69%) and exactly 1 (spreading endemically) in 11 (1%) of the districts.

```{r, echo = FALSE}
kable(districts_overview, caption = "Weekly change in Rt at district level in each state", align = "lcccc", booktabs = TRUE, longtable = TRUE) %>% 
  kable_styling(font_size = 11,
                latex_options = c("repeat_header"),
                repeat_header_continued = "\\textit{(Continued on Next Page...)}")

kable(districts_overview2, caption = "Spread of COVID-19 at district level in each state", align = "lcccc", booktabs = TRUE, longtable = TRUE) %>% 
  kable_styling(font_size = 11,
                latex_options = c("repeat_header"),
                repeat_header_continued = "\\textit{(Continued on Next Page...)}")

kable(districts_overview3, caption = "District level change vs spread matrix", booktabs = TRUE, longtable = TRUE) %>%
  kable_styling(font_size = 11,
                latex_options = c("repeat_header"),
                repeat_header_continued = "\\textit{(Continued on Next Page...)}")
```


\

Full data at district level is shown in the table below. 

```{r, echo = FALSE}
datatable(districts, caption = "Effective reproductive numbers at district level")
```

\

# Conclusions
The containment efforts taken may be showing effect as the effective reproductive numbers are seen to be decreasing in a large share of states and districts. Further caution needs to be taken in areas where the Rt or spread is observed to have increased. Given the observation that the effective R value is above 1 in many parts of the country, all possible methods the social and economic situation will permit to contain the spread of infection may be taken.

The current trends are reason enough to incite hope and guarded optimism towards future trends of the outbreak. The gradual, yet sustained reduction in Rt values in the country calls for sustaining the ongoing efforts, augment them to further reduce the spread. Attention needs to be given in those areas where Rt is above and and has increased as compared to previous week.

\

# Limitations of this analysis
Only reported numbers are included in the analysis. Time delays in reporting in certain regions are not accounted for in this analysis. All incidence numbers are taken as is. An attempt has been made to make best use of the data available in the hope that this might help decision makers make better decisions. 

The data is downloaded from a crowd-sourced database, and unlike JHU-CSSE datasets, exact documentation of changes in the raw data in the form of github commits are not available. It was noted during the course of the analysis that more recent entries may have been revised. Such revisions have caused the Rt values estimated between 2 May to 8 May to differ from those in the last update.

The PDF version of this document can be found [here](http://bit.ly/Rtv31705_r1).